# 🖥️ 电脑测试安卓应用完整指南

## 🚀 **方法一：直接在Windows运行（最简单）**

### **启动应用**：
```bash
cd D:\phpEnv\www\localhost\sendGoods\android
python main_chinese.py
```

### **特点**：
- ✅ 最快速，无需额外工具
- ✅ 实时修改代码立即生效
- ✅ 完整的开发调试功能
- ✅ 支持中文显示
- ⚠️ 界面可能与真实安卓设备略有差异

---

## 📱 **方法二：Android模拟器（最接近真实体验）**

### **Step 1: 安装 Android Studio**
1. 下载 [Android Studio](https://developer.android.com/studio)
2. 安装时选择包含 Android SDK 和模拟器

### **Step 2: 创建虚拟设备**
1. 打开 Android Studio
2. Tools → AVD Manager → Create Virtual Device
3. 选择设备型号（推荐：Pixel 6）
4. 选择系统版本（推荐：Android 11+ / API 30+）
5. 点击 Finish 创建

### **Step 3: 启动模拟器**
```bash
# 启动默认模拟器
emulator -avd Pixel_6_API_30
```

### **Step 4: 构建APK并安装**
```bash
cd D:\phpEnv\www\localhost\sendGoods\android
buildozer android debug
adb install bin/发货助手-*.apk
```

---

## 🔧 **方法三：构建APK文件测试**

### **安装构建工具**：
```bash
# 安装 buildozer
pip install buildozer

# Windows额外需要
pip install cython
```

### **构建APK**：
```bash
cd D:\phpEnv\www\localhost\sendGoods\android
buildozer android debug
```

### **生成的文件位置**：
```
sendGoods/android/bin/发货助手-0.1-armeabi-v7a-debug.apk
```

### **测试方式**：
1. **发送到手机**：通过微信/QQ发送APK文件到手机安装
2. **模拟器安装**：拖拽APK到Android模拟器
3. **ADB安装**：`adb install bin/发货助手-*.apk`

---

## 🎯 **当前推荐的测试流程**

### **开发阶段（方法一）**：
```bash
# 1. 切换到安卓目录
cd D:\phpEnv\www\localhost\sendGoods\android

# 2. 直接运行测试
python main_chinese.py

# 3. 测试功能：
#    - 点击"发货"按钮
#    - 点击"散装"按钮  
#    - 点击"30天"/"90天"/"365天"按钮
#    - 测试"上传激活码"功能
#    - 测试"复制内容"功能
```

### **最终测试阶段（方法二/三）**：
```bash
# 构建真实APK进行最终验证
buildozer android debug
```

---

## 📋 **测试检查清单**

### **✅ 界面测试**：
- [ ] 中文字符显示正常
- [ ] 按钮布局合理
- [ ] 文本框可以正常输入和显示
- [ ] 弹窗正常显示

### **✅ 功能测试**：
- [ ] **发货按钮**：加载基础模板
- [ ] **散装按钮**：25个1天激活码，空行位置正确
- [ ] **30/90/365天按钮**：正确显示对应激活码
- [ ] **上传激活码**：文件选择和验证正常
- [ ] **复制内容**：能复制到系统剪贴板

### **✅ 文件测试**：
- [ ] 能读取 `sendGoodsMode.txt`
- [ ] 能读取各种 `code*.txt` 文件
- [ ] 上传文件路径保存正常
- [ ] 激活码验证标准正确（10位大写字母数字）

### **✅ 错误处理**：
- [ ] 文件不存在时的提示
- [ ] 激活码不足时的提示  
- [ ] 文件格式错误时的提示

---

## 🐛 **常见问题解决**

### **问题1：启动时报错 "ModuleNotFoundError: No module named 'kivy'"**
```bash
pip install kivy -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

### **问题2：中文显示为方块**
- 已在代码中实现自动字体注册
- Windows会自动寻找微软雅黑等中文字体

### **问题3：文件路径问题**  
- Windows测试时使用相对路径
- 确保在 `sendGoods/android` 目录下运行

### **问题4：构建APK失败**
```bash
# 清理后重新构建
buildozer android clean
buildozer android debug
```

---

## 📊 **性能对比**

| 测试方法 | 启动速度 | 调试便利性 | 真实性 | 适用场景 |
|---------|---------|-----------|--------|----------|
| Windows直接运行 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 开发调试 |
| Android模拟器 | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 最终测试 |
| 真机APK | ⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ | 发布前验证 |

---

## 🎉 **开始测试！**

现在您可以：

1. **立即测试**：应用已在后台运行，检查窗口是否正常显示
2. **功能验证**：依次测试各个按钮功能
3. **散装逻辑**：重点测试修复后的散装激活码功能
4. **文件上传**：测试新增的动态激活码文件上传功能

测试过程中如有任何问题，随时反馈！
