# æ•£è£…æ¿€æ´»ç é€»è¾‘ä¿®å¤è¯´æ˜

## ğŸ› å‘ç°çš„é—®é¢˜

é€šè¿‡å¯¹æ¯”ç”µè„‘ç«¯(`app_main.py`)å’Œå®‰å“ç«¯(`main_chinese.py`)çš„æ•£è£…æ¿€æ´»ç é€»è¾‘ï¼Œå‘ç°äº†ä»¥ä¸‹ä¸ä¸€è‡´ï¼š

### **1. æ¿€æ´»ç éªŒè¯æ ‡å‡†ä¸åŒ**

#### **ç”µè„‘ç«¯æ ‡å‡†**ï¼š
```python
def _is_valid_code(self, s: str) -> bool:
    s = s.strip()
    if len(s) != 10:           # å¿…é¡»æ˜¯10ä½
        return False
    for ch in s:
        if not (ch.isdigit() or ('A' <= ch <= 'Z')):  # åªèƒ½æ˜¯å¤§å†™å­—æ¯A-Zå’Œæ•°å­—0-9
            return False
    return True
```

#### **å®‰å“ç«¯åŸæ¥çš„æ ‡å‡†**ï¼š
```python
# åŸæ¥çš„é”™è¯¯é€»è¾‘
len(line) >= 8 and line.isalnum()  # è‡³å°‘8ä½ï¼ŒåŒ…å«ä»»ä½•å­—æ¯æ•°å­—
```

### **2. ç©ºè¡Œæ’å…¥ä½ç½®ä¸æ­£ç¡®**

#### **ç”µè„‘ç«¯é€»è¾‘**ï¼š
```python
for idx, code in enumerate(codes[:25], start=1):
    div_lines.append(f"<div class=\"bulk-line\">{code}</div>")
    if idx in (10, 15):  # åœ¨ç¬¬10å’Œ15ä¸ªæ¿€æ´»ç åæ’å…¥ç©ºè¡Œ
        div_lines.append("<div class=\"bulk-line\"><br></div>")
```

#### **å®‰å“ç«¯åŸæ¥çš„é€»è¾‘**ï¼š
```python
# åŸæ¥çš„é”™è¯¯é€»è¾‘
for i, code in enumerate(codes_1[:25]):
    if i == 10 or i == 15:  # é”™è¯¯ï¼šåœ¨ç¬¬10å’Œ15ä¸ªæ¿€æ´»ç å‰æ’å…¥ç©ºè¡Œ
        content_parts.append('')
    content_parts.append(code)
```

## âœ… ä¿®å¤å†…å®¹

### **1. ç»Ÿä¸€æ¿€æ´»ç éªŒè¯æ ‡å‡†**

**æ·»åŠ äº†ä¸ç”µè„‘ç«¯å®Œå…¨ä¸€è‡´çš„éªŒè¯å‡½æ•°**ï¼š
```python
def is_valid_code(self, s: str) -> bool:
    """éªŒè¯æ¿€æ´»ç æ˜¯å¦æœ‰æ•ˆ - ä¸æ¡Œé¢ç«¯é€»è¾‘ä¸€è‡´"""
    s = s.strip()
    if len(s) != 10:
        return False
    for ch in s:
        if not (ch.isdigit() or ('A' <= ch <= 'Z')):
            return False
    return True
```

**æ›´æ–°äº†è¯»å–æ–‡ä»¶çš„è¿‡æ»¤é€»è¾‘**ï¼š
```python
if (line and 
    not line.startswith('#') and 
    not line.startswith('æ¿€æ´»ç åˆ—è¡¨') and
    not line.startswith('ç”Ÿæˆæ—¶é—´') and
    not line.startswith('æ€»æ•°') and
    not line.startswith('å­—ç¬¦é›†') and
    not line.startswith('===') and
    not line.startswith('ç¬¬') and
    not line.startswith('ç»„') and
    'ç»„' not in line and
    not 'ä»¥ä¸‹æ˜¯25ä¸ª1å¤©çš„æ¿€æ´»ç ' in line and
    self.is_valid_code(line)):  # ä½¿ç”¨æ–°çš„éªŒè¯å‡½æ•°
```

### **2. ä¿®å¤ç©ºè¡Œæ’å…¥é€»è¾‘**

**ä¿®æ­£äº†ç©ºè¡Œæ’å…¥ä½ç½®**ï¼š
```python
# ä¿®å¤åçš„æ­£ç¡®é€»è¾‘
for i, code in enumerate(codes_1[:25]):
    content_parts.append(code)
    # åœ¨ç¬¬10å’Œ15ä¸ªæ¿€æ´»ç åæ·»åŠ ç©ºè¡Œ
    if i == 9 or i == 14:  # ç´¢å¼•ä»0å¼€å§‹ï¼Œç¬¬10ä¸ªæ˜¯ç´¢å¼•9ï¼Œç¬¬15ä¸ªæ˜¯ç´¢å¼•14
        content_parts.append('')
```

### **3. æ›´æ–°æ–‡ä»¶ä¸Šä¼ éªŒè¯**

**ä¸Šä¼ æ–‡ä»¶æ—¶ä¹Ÿä½¿ç”¨ç›¸åŒçš„éªŒè¯æ ‡å‡†**ï¼š
```python
for line in lines:
    line = line.strip()
    if (line and 
        not line.startswith('#') and 
        self.is_valid_code(line)):  # ä½¿ç”¨ç»Ÿä¸€çš„éªŒè¯å‡½æ•°
        test_codes.append(line)
```

## ğŸ“Š æ¿€æ´»ç æ ¼å¼è¦æ±‚

### **æ ‡å‡†æ ¼å¼**ï¼š
- **é•¿åº¦**ï¼šå¿…é¡»æ˜¯10ä½
- **å­—ç¬¦é›†**ï¼šåªèƒ½åŒ…å«å¤§å†™å­—æ¯A-Zå’Œæ•°å­—0-9
- **ç¤ºä¾‹**ï¼š`ABC123DEF4`, `XYZ789GHI0`, `JKL456MNO1`

### **æ— æ•ˆæ ¼å¼**ï¼š
âŒ `abc123def4` - åŒ…å«å°å†™å­—æ¯  
âŒ `ABC123DEF` - åªæœ‰9ä½  
âŒ `ABC123DEF45` - æœ‰11ä½  
âŒ `ABC123-DEF4` - åŒ…å«ç‰¹æ®Šå­—ç¬¦  
âŒ `ABC123def4` - æ··åˆå¤§å°å†™  

## ğŸ”„ æ•£è£…æ˜¾ç¤ºæ ¼å¼

**ä¿®å¤åçš„æ•£è£…æ¿€æ´»ç æ˜¾ç¤ºæ ¼å¼**ï¼š
```
ä»¥ä¸‹æ˜¯25ä¸ª1å¤©çš„æ¿€æ´»ç ï¼Œæ¿€æ´»ä¹‹åæ‰å¼€å§‹ç”Ÿæ•ˆï¼š
ABC123DEF4
XYZ789GHI0
JKL456MNO1
PQR789STU2
VWX012YZA3
BCD345EFG6
HIJ678KLM7
NOP901QRS8
TUV234WXY9
ZAB567CDE0

FGH890IJK1    â† ç¬¬10ä¸ªåæœ‰ç©ºè¡Œ
LMN123OPQ2
RST456UVW3
XYZ789ABC4
DEF012GHI5

JKL345MNO6    â† ç¬¬15ä¸ªåæœ‰ç©ºè¡Œ
PQR678STU7
VWX901YZA8
BCD234EFG9
HIJ567KLM0
NOP890QRS1
TUV123WXY2
ZAB456CDE3
FGH789IJK4
LMN012OPQ5
```

## ğŸ§ª æµ‹è¯•æ–‡ä»¶

**åˆ›å»ºäº†æ ‡å‡†æµ‹è¯•æ–‡ä»¶** `test_codes_30day.txt`ï¼š
- åŒ…å«30ä¸ªæœ‰æ•ˆçš„10ä½æ¿€æ´»ç 
- ç¬¦åˆå¤§å†™å­—æ¯A-Zå’Œæ•°å­—0-9çš„è¦æ±‚
- å¯ç”¨äºæµ‹è¯•ä¸Šä¼ åŠŸèƒ½

## ğŸ¯ ä¿®å¤æ•ˆæœ

### **ä¿®å¤å‰çš„é—®é¢˜**ï¼š
1. æ¿€æ´»ç éªŒè¯æ ‡å‡†ä¸ä¸€è‡´ï¼Œå¯èƒ½è¯»å–åˆ°æ— æ•ˆæ¿€æ´»ç 
2. ç©ºè¡Œä½ç½®é”™è¯¯ï¼Œå½±å“æ˜¾ç¤ºæ ¼å¼
3. ä¸Šä¼ æ–‡ä»¶éªŒè¯æ ‡å‡†ä¸ç»Ÿä¸€

### **ä¿®å¤åçš„æ”¹è¿›**ï¼š
1. âœ… æ¿€æ´»ç éªŒè¯ä¸ç”µè„‘ç«¯å®Œå…¨ä¸€è‡´
2. âœ… æ•£è£…æ˜¾ç¤ºæ ¼å¼ä¸ç”µè„‘ç«¯ä¸€è‡´
3. âœ… æ–‡ä»¶ä¸Šä¼ éªŒè¯ä½¿ç”¨ç›¸åŒæ ‡å‡†
4. âœ… ç©ºè¡Œæ’å…¥ä½ç½®æ­£ç¡®ï¼ˆç¬¬10å’Œ15ä¸ªæ¿€æ´»ç åï¼‰
5. âœ… è¿‡æ»¤é€»è¾‘æ›´å®Œå–„ï¼Œæ’é™¤æ ‡é¢˜å’Œåˆ†éš”ç¬¦

ç°åœ¨å®‰å“ç«¯çš„æ•£è£…æ¿€æ´»ç åŠŸèƒ½ä¸ç”µè„‘ç«¯å®Œå…¨ä¸€è‡´ï¼
