# 发货助手 Android版 - 项目说明

## 📱 项目概述

这是一个基于Kivy框架开发的Android发货软件，移植自Windows版的PySide6应用。主要用于电商发货场景，支持激活码管理、模板发货、批量处理等功能。

## 🎯 核心功能

### 1. 发货模板管理
- 从 `sendGoodsMode.txt` 加载默认发货文案
- 支持自定义发货模板
- 智能插入激活码到指定位置

### 2. 激活码管理
- **30天/90天/365天**：随机选择对应时长的激活码
- **散装模式**：批量显示30天+1天激活码
- **文件存储**：激活码存储在独立的TXT文件中

### 3. 文档导入
- **TXT文件**：支持UTF-8编码，自动链接识别
- **DOCX文件**：解析Word文档内容（需要python-docx库）
- **编码兼容**：自动处理GBK/UTF-8编码问题

### 4. 剪贴板操作
- **智能复制**：根据内容类型优化格式
- **空行处理**：自动规范化多余空行
- **兼容性**：支持粘贴到QQ、微信等应用

## 🏗️ 技术架构

### 框架选择
- **Kivy 2.0+**：跨平台GUI框架，专为移动端优化
- **Python 3.8+**：主要开发语言
- **Buildozer**：APK打包工具

### 文件结构
```
android/
├── main.py              # 主程序入口
├── shipping.kv          # Kivy界面样式文件
├── buildozer.spec       # APK构建配置
├── run_test.py          # 桌面测试启动器
├── build_apk.py         # APK构建脚本
├── 测试运行.bat          # Windows测试脚本
├── data/               # 数据文件目录
│   ├── sendGoodsMode.txt    # 发货模板
│   ├── code30day.txt        # 30天激活码
│   ├── code90day.txt        # 90天激活码
│   ├── code365day.txt       # 365天激活码
│   └── code1day.txt         # 1天激活码
├── README.md            # 使用说明
├── INSTALL.md           # 安装指南
└── 项目说明.md           # 本文档
```

## 🔄 与Windows版对比

| 功能 | Windows版 | Android版 | 说明 |
|------|-----------|-----------|------|
| 界面框架 | PySide6 | Kivy | 移动端优化 |
| 富文本编辑 | QWebEngineView | TextInput | 简化但保持核心功能 |
| 图片支持 | 支持 | 暂不支持 | 后续版本可添加 |
| 文件导入 | DOCX/TXT | DOCX/TXT | 功能一致 |
| 剪贴板 | HTML+文本 | 纯文本 | 适配移动端 |
| 本地服务器 | 支持 | 不需要 | 简化架构 |
| 激活码管理 | 完全一致 | 完全一致 | 核心逻辑移植 |

## 🎨 界面设计

### 移动端适配
- **触摸友好**：按钮大小适合手指操作
- **竖屏布局**：针对手机屏幕优化
- **滚动支持**：长文本内容可滚动查看
- **现代风格**：圆角按钮、清新配色

### 响应式设计
- **自适应布局**：支持不同屏幕尺寸
- **字体缩放**：根据设备DPI调整
- **边距优化**：确保内容不贴边

## 📊 性能优化

### 启动优化
- **延迟加载**：非关键功能延迟初始化
- **缓存机制**：激活码文件读取缓存
- **异步处理**：文件操作异步执行

### 内存管理
- **及时释放**：大文件处理后及时清理
- **对象复用**：减少重复创建UI组件
- **垃圾回收**：合理使用Python GC

## 🔒 数据安全

### 文件权限
- **最小权限**：仅请求必要的存储权限
- **用户控制**：用户可选择数据存储位置
- **隐私保护**：不收集用户数据

### 激活码保护
- **本地存储**：激活码仅存储在用户设备
- **文件加密**：可选择加密存储激活码文件
- **访问控制**：应用专用目录保护

## 🚀 部署方案

### 开发环境
1. **Python环境**：Python 3.8-3.11
2. **依赖安装**：`pip install kivy[base] buildozer python-docx`
3. **桌面测试**：`python run_test.py`

### 生产构建
1. **环境准备**：Android SDK + NDK
2. **构建命令**：`python build_apk.py`
3. **输出文件**：`bin/发货助手-*.apk`

### 分发策略
- **内部分发**：企业内部使用，直接安装APK
- **应用商店**：如需公开发布，需要签名和审核
- **自动更新**：可集成在线更新机制

## 🔮 未来规划

### v1.1 计划功能
- [ ] 图片插入支持
- [ ] 云端同步激活码
- [ ] 批量导入激活码
- [ ] 发货统计功能

### v1.2 计划功能
- [ ] 多模板管理
- [ ] 客户信息管理
- [ ] 发货记录查询
- [ ] 数据备份恢复

### v2.0 长期规划
- [ ] 网页版本开发
- [ ] 多用户协作
- [ ] API接口开放
- [ ] 插件系统

## 🐛 已知问题

### 当前限制
1. **图片支持**：暂不支持图片插入和复制
2. **富文本**：不支持复杂的HTML格式
3. **网络功能**：暂无在线同步功能
4. **多语言**：仅支持中文界面

### 兼容性
- **Android版本**：要求Android 5.0+
- **设备要求**：RAM 2GB+，存储空间100MB+
- **屏幕适配**：主要针对手机屏幕，平板体验待优化

## 📈 性能基准

### 启动时间
- **冷启动**：< 3秒
- **热启动**：< 1秒
- **内存占用**：< 50MB

### 操作响应
- **按钮点击**：< 100ms
- **文件加载**：< 500ms
- **剪贴板操作**：< 200ms

## 👥 开发团队

- **架构设计**：基于原Windows版本架构
- **移动端适配**：Kivy框架移植
- **UI/UX设计**：移动端交互优化
- **测试验证**：多设备兼容性测试

---

**版本信息**：v1.0  
**更新日期**：2024年  
**许可协议**：仅供内部使用
